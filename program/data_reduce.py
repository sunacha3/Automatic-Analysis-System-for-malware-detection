import os
import api
def main(n=0):
  if n == 1:
    cor = "./../n-gram/cor/"
    mal = "./../n-gram/mal/"
  elif n == 0:
    cor = "./../correct_data/"
    mal = "./../malware_data/"
  else: exit()
  cdir = api.getdirs(cor)
  mdir = api.getdirs(mal)
  deletefile(cdir,cor)
  deletefile(mdir,mal)

def deletefile(dirlist,path):
  print "delete start!"
  for dir in dirlist:
    files = os.listdir(path+dir)
    for file in files:
      if file.endswith('.txt'):
        #print "open %s" % file
        f=open(path+dir+'/'+file)
        line = f.readlines()
        f.close()
        print "%s:line %d" % (path+dir+'/'+file,len(line))
        if len(line) < 10:
          #print "start delete"
          os.remove(path+dir+'/'+file)
          print "delete %s" % file

#if __name__ == "__main__":
#  main()
