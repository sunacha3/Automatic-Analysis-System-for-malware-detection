from pylab import *

def readfile(filename):
  lines=[line for line in file(filename)]

  # First line is the column titles
  colnames=lines[0].strip().split('\t')[1:]
  rownames=[]
  data=[]
  for line in lines[1:]:
    p=line.strip().split('\t')
    # First column in each row is the rowname
    rownames.append(p[0])
    # The data for this row is the remainder of the row
    data.append([float(x) for x in p[1:]])
  return rownames,colnames,data

if __name__ == "__main__":
  rownames,colnames,data = readfile("./../feature/cor_prefix2.txt")
  print "x:%d" % len(data[0])
  print "y:%d" % len(data)
  #xlim(0,len(data[0]))
  #ylim(0,len(data[0:137]))
  #on
  subplot(211)
  xlabel("APIcall",fontsize=12,fontname='serif')
  ylabel("program",fontsize=12,fontname='serif')
  Z = array(data)
  imshow(Z,origin='lower',interpolation='none')
  gray()
  #under


  row,col,data2 = readfile("./../feature/mal_prefix2.txt")
  print "x:%d" % len(data2[0])
  print "y:%d" % len(data2)
  subplot(212)
  xlabel("APIcall",fontsize=12,fontname='serif')
  ylabel("malware",fontsize=12,fontname='serif')
  Z = array(data2[0:281])
  imshow(Z,origin='lower',interpolation='none')
  gray()
  #colorbar()

  show()
